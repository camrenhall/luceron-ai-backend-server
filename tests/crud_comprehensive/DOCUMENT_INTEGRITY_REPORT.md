# Document Processing Integrity Analysis Report
Generated: 2025-08-22T23:27:57.523279

## Executive Summary

âœ… No critical integrity issues detected

## Detailed Test Results

### Basic Create Read Consistency

```json
{
  "test_name": "basic_create_read_consistency",
  "total_attempts": 2,
  "successful_creates": 2,
  "successful_reads": 2,
  "phantom_successes": 0,
  "timing_issues": [],
  "errors": [],
  "create_success_rate": 1.0,
  "read_success_rate": 1.0,
  "phantom_rate": 0.0
}
```

### Concurrent Operations

```json
{
  "test_name": "concurrent_operations",
  "concurrent_count": 5,
  "total_attempts": 5,
  "successful_operations": 5,
  "failed_operations": 0,
  "race_conditions": [],
  "timing_analysis": [
    {
      "operation": 0,
      "duration": 0.3375730514526367,
      "success": true
    },
    {
      "operation": 1,
      "duration": 0.36860013008117676,
      "success": true
    },
    {
      "operation": 2,
      "duration": 0.5068438053131104,
      "success": true
    },
    {
      "operation": 3,
      "duration": 0.5260190963745117,
      "success": true
    },
    {
      "operation": 4,
      "duration": 0.4984421730041504,
      "success": true
    }
  ],
  "success_rate": 1.0,
  "race_condition_rate": 0.0,
  "total_duration": 0.5270869731903076,
  "avg_operation_time": 0.10541739463806152
}
```

### Transaction Isolation

```json
{
  "test_name": "transaction_isolation",
  "isolation_level": "read committed",
  "transaction_tests": [
    {
      "test": "within_transaction_read",
      "success": true,
      "doc_id": "cd3dbcf7-05fd-4cc3-8429-d99d91e4e5eb"
    },
    {
      "test": "post_commit_read",
      "success": true,
      "doc_id": "cd3dbcf7-05fd-4cc3-8429-d99d91e4e5eb"
    }
  ],
  "connection_analysis": {},
  "error": "'Connection' object has no attribute 'get_transaction'"
}
```

### Database Constraints

```json
{
  "test_name": "database_constraints",
  "foreign_key_tests": [
    {
      "test": "invalid_case_id",
      "expected": "failure",
      "actual": "failure",
      "error": "Database INSERT failed: new row for relation \"documents\" violates check constraint \"documents_status_check\"\nDETAIL:  Failing row contains (invalid_case_test.pdf, 12345, application/pdf, s3://test-bucket/test_documents/invalid_case_test.pdf, test_documents/invalid_case_test.pdf, pending, 2025-08-23 04:27:57.417892, dce767be-6a11-456e-8cca-f36558dc563e, 00000000-0000-0000-0000-000000000000, null, null, null, null, null).",
      "error_type": "EXECUTION_ERROR"
    }
  ],
  "unique_constraint_tests": [],
  "not_null_tests": []
}
```

## Recommendations

### 3. Transaction Consistency Improvements
- Review PostgreSQL isolation level configuration
- Implement proper error handling for constraint violations
- Add comprehensive transaction monitoring

---
Report generated by Document Integrity Tester v1.0