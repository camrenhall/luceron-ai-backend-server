[pytest]
minversion = 6.0
addopts = 
    -ra -q --tb=short 
    --strict-markers --strict-config
    --durations=10
    --maxfail=10
testpaths = suites integration
asyncio_mode = auto
markers =
    crud: CRUD operation tests
    integration: Integration tests
    performance: Performance tests
    cleanup: Cleanup tests
    smoke: Critical smoke tests for CI/CD
    regression: Full regression test suite
    fast: Fast tests for quick feedback
    slow: Longer running tests
junit_family = xunit2
filterwarnings =
    ignore::DeprecationWarning
    ignore::pytest.PytestUnraisableExceptionWarning
    ignore::UserWarning:asyncpg.*

# Coverage configuration
addopts = --cov=core --cov=suites --cov=config --cov-report=term-missing:skip-covered --cov-fail-under=80

# Performance testing
timeout = 300
timeout_method = thread