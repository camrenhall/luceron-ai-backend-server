[pytest]
minversion = 6.0
addopts = 
    -ra -q --tb=short 
    --strict-markers --strict-config
    --durations=10
    --maxfail=10
    --cov=core --cov=suites --cov=config --cov-report=term-missing:skip-covered --cov-fail-under=80
testpaths = suites integration tavern_tests
markers =
    crud: CRUD operation tests
    integration: Integration tests
    performance: Performance tests
    cleanup: Cleanup tests
    smoke: Critical smoke tests for CI/CD
    regression: Full regression test suite
    fast: Fast tests for quick feedback
    slow: Longer running tests
    tavern: Tavern YAML-based API tests
    agent: Agent-related tests
    email: Email system tests
    list: List operation tests
    search: Search operation tests
    validation: Validation error tests
    workflow: End-to-end workflow tests
    demo: Demo tests that work without real API
junit_family = xunit2
filterwarnings =
    ignore::DeprecationWarning
    ignore::pytest.PytestUnraisableExceptionWarning
    ignore::UserWarning:asyncpg.*

# Performance testing
timeout = 300
timeout_method = thread

# Tavern configuration disabled for testing